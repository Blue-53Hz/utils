
   /*
   
   test1() 执行DDL操作也就是是建
   test2() 执行DML操作也就是是delet insert updata 
   test3()执行DQL（查询语句select）
   
   */
   
   
   
   
   
   public void test1() throws SQLException {
            //执行DDL操作也就是是建
            Connection conn=null;
            Statement stmt=null;
         try {
             //通过反射获取驱动的驱动程序

             Class.forName("com.mysql.jdbc.Driver");
             //从驱动程序管理类获取连接
             conn= DriverManager.getConnection(url,user,password);
             //通过Connection对象获取statement对象
             stmt=conn.createStatement();
//             准备sql语句
             String sql="CREATE TABLE student4(id INT PRIMARY KEY AUTO_INCREMENT,NAME VARCHAR(20),gender VARCHAR(2))";
            //执行sql语句返回结果
             int count=stmt.executeUpdate(sql);
             System.out.println(count);

         }catch ( Exception e){
             e.printStackTrace();
             throw new RuntimeException(e);

         }finally {
             if (stmt!=null)
                 try {
                     stmt.close();
                 }catch ( SQLException e){
                     e.printStackTrace();
                     throw new RuntimeException();

                 }


             if (conn!=null)
                 try{
                     conn.close();

                 }catch ( SQLException e){
                     e.printStackTrace();
                     throw new RuntimeException();
                 }


         }



        }

        public  void  test2(){
            //通过jdbc执行DML语句（insert updata delete）

            Connection conn=null;
            Statement smat=null;
            try{
            Class.forName("com.mysql.jdbc.Driver");
            conn=DriverManager.getConnection(url,user,password);
                smat=conn.createStatement();
                String sql1="INSERT INTO student3(NAME,gender) VALUES('张磊','男')";
                String sql2="INSERT INTO student3(NAME,gender) VALUES('黎明','男')";
                String sql3= "INSERT INTO student3(NAME,gender) VALUES('刘德华','女')";
                String sql4="INSERT INTO student3(NAME,gender) VALUES('志杰','男')";

               smat.executeUpdate(sql1);
               smat.executeUpdate( sql2);
               smat.executeUpdate(sql3);
                int count=smat.executeUpdate( sql4);


               System.out.println(count);
        }catch ( Exception e){
                e.printStackTrace();
                throw new RuntimeException();

            }finally {
                if (smat!=null)
                    try {
                        smat.close();
                    }catch ( SQLException e){
                        e.printStackTrace();
                        throw new RuntimeException();

                    }
                if (conn!=null)
                    try{
                        conn.close();

                    }catch ( SQLException e){
                        e.printStackTrace();
                        throw new RuntimeException();
                    }
            }

        }


   public void test3(){

  //执行DQL（查询语句select）
       try {
           Class.forName("com.mysql.jdbc.Driver");
           Connection conn=DriverManager.getConnection(url,user,password);
           Statement stat=conn.createStatement();
           String sql="SELECT *FROM student";

           //会返回一个Resultset 对象
            rs=stat.executeQuery(sql);


            //遍历
           while (rs.next()){
               int id=rs.getInt("id");
               String name=rs.getString("name");
               int age=rs.getInt("age");
               int servlet=rs.getInt("servlet");
               int mysql=rs.getInt("mysql");
               String address=rs.getString("address");
               System.out.println(id);
               System.out.println(name);
               System.out.println(age);
               System.out.println(servlet);
               System.out.println(mysql);
               System.out.println(address);
           }

       } catch (ClassNotFoundException e) {
           e.printStackTrace();
       } catch (SQLException e) {
           e.printStackTrace();
       }
   }
  //预编译对象执行SQL操作
//    PreparedStatement与Statement的区别就是其可以利用？进行参数站位，后边进行参数的赋值，
//    PreparedStatement可以进行SQL缓存，Statement不可以，效率要比Statement快
//    Statement存在SQL注入的风险。PreparedStatement可以有效防止用户的注入
//预编译的select delet 类似的操作就不在写了
    public void test4(){
        try {
            Class.forName("com.mysql.jdbc.Driver");
            Connection conn=DriverManager.getConnection(url,user,password);

            String sql="INSERT INTO student(id,NAME) VALUES (?,?)";
               PreparedStatement stat=conn.prepareStatement(sql);
               stat.setString(1,"4");
               stat.setString(2,"蔡徐坤");
               stat.executeUpdate();

        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }

    }
